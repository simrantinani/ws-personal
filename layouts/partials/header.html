<header class="navbar-container">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">

  <div class="signature">Simran Tinani</div>
  <!-- Hamburger (mobile toggle) -->
  <button class="menu-toggle" onclick="toggleMenu()">
    <i class="fas fa-bars"></i>
  </button>

  <!-- Menu logic (your existing nav logic) -->
  {{ $currentPage := . }}
  {{ $menuItems := .Site.Menus.main }}
  {{ $activeIndex := -1 }}

<!-- Find active item index -->
{{ range $i, $item := $menuItems }}
  {{ $isActive := false }}
  
  {{ if eq $currentPage.RelPermalink $item.URL }}
    {{ $isActive = true }}
  {{ else if and $item.Identifier (eq $currentPage.Section $item.Identifier) }}
    {{ $isActive = true }}
  {{ end }}
  
  {{ if $isActive }}
    {{ $activeIndex = $i }}
  {{ end }}
{{ end }}

  {{ if ge $activeIndex 0 }}
    {{ $activeItem := index $menuItems $activeIndex }}

    <!-- Now get all other items -->
    {{ $otherItems := slice }}
    {{ range $i, $item := $menuItems }}
      {{ if ne $i $activeIndex }}
        {{ $otherItems = $otherItems | append $item }}
      {{ end }}
    {{ end }}

    <!-- Split those around the center -->
    {{ $half := add (div (len $otherItems) 2) 0 }}
    {{ $leftItems := first $half $otherItems }}
    {{ $rightItems := after $half $otherItems }}

    <nav id="main-nav" class="navbar">
      <div class="nav-left">
        {{ range $leftItems }}
          <a href="{{ .URL }}">{{ .Name }}</a>
        {{ end }}
      </div>
      
<div class="nav-center active">
  <a href="{{ $activeItem.URL }}">{{ $activeItem.Name }}</a>
</div>

      <div class="nav-right">
        {{ range $rightItems }}
          <a href="{{ .URL }}">{{ .Name }}</a>
        {{ end }}
      </div>
    </nav>

{{ else }}
    <!-- fallback if nothing is active - keep centered layout -->
    <nav id="main-nav" class="navbar">
      {{ $half := div (len $menuItems) 2 }}
      {{ $leftItems := first $half $menuItems }}
      {{ $rightItems := after $half $menuItems }}
      
      <div class="nav-left">
        {{ range $leftItems }}
          <a href="{{ .URL }}">{{ .Name }}</a>
        {{ end }}
      </div>
      <div class="nav-center inactive"><span>&nbsp;</span></div>
      <div class="nav-right">
        {{ range $rightItems }}
          <a href="{{ .URL }}">{{ .Name }}</a>
        {{ end }}
      </div>
    </nav>
  {{ end }}
  <script>
    function toggleMenu() {
      const nav = document.getElementById('main-nav');
      nav.classList.toggle('show');
    }
  </script>
</header>
